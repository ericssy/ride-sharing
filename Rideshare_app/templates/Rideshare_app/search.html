<html>

{% load bootstrap4 %}
{% bootstrap_css %}

<head>
<style>
	.sidenav {
		position: fixed;
		width: 100px;
		left: 10px;
		padding: 10px;
		background: linen;
	}
</style>

<script>
	window.addEventListener("load", function(event) {
		var url = window.location.search.substring(1);
		var url_params = url.split('&');
		for (var i = 0; i < url_params.length; i++) {
			var param = url_params[i].split('=');
			if (param[0] == "to") {
				document.getElementById("destination_city").innerHTML = param[1];
			} else if (param[0] == "from") {
				document.getElementById("departure_city").innerHTML = param[1];
			} else if (param[0] == "date") {
				document.getElementById("date").innerHTML = param[1];
			}
		}
	});
</script>

</head>

<body>

<nav class="navbar navbar-dark" style="background-color: #232D4B">
	<ul class="navbar-nav">
		<li class="nav-item active">
			<a class="nav-link" href="{% url 'index' %}">Homepage</a>
		</li>
	</ul>
</nav>

<div class="jumbotron jumbotron-fluid">
	<div class="container">
		<h1>You searched for trips to 
			<span id="destination_city">destination</span> from 
			<span id="departure_city">origin</span> on 
			<span id="date">date</span>
		</h1>
	</div>
</div>

<div class="row">
	<div class="col-sm-2">
		<nav class="navbar navbar-dark" style="background-color: #fbb584">
			<ul class="navbar-nav">
				<li class="nav-item">
					<form>
						<h3>Filter:</h3>
						<label>Departure City</label>
							<select name="filter_departure_city" class="custom-select">
							    <option value="Fairfax">Fairfax</option>
							    <option value="Arlington">Arlington</option>
							    <option value="Centreville">Centreville</option>
							  </select>
						<label>Departure State</label>
							<select name="filter_departure_state" class="custom-select">
							    <option value="Virginia">Virginia</option>
							  </select>
						<label>Destination City</label>
							<select name="filter_destination_city" class="custom-select">
							    <option value="Fairfax">Fairfax</option>
							    <option value="Arlington">Arlington</option>
							    <option value="Centreville">Centreville</option>
							  </select>
						<label>Destination State</label>
							<select name="filter_destination_state" class="custom-select">
							    <option value="Virginia">Virginia</option>
							  </select>
						<label>Date</label>
							<input type="date" class="form-control">
						<label>Time</label>
							<input type="time" class="form-control">
						<label>Price ($)</label>
							<input type="number" name="form-check-input" class="col-sm-8 form-control" min="0">
						<label>Number of Passengers</label>
							<input type="number" name="form-check-input" class="col-sm-8 form-control" min="0" max="10">
						<br>
						<button type="submit" class="btn">Apply</button>
					</form>
				</li>
			</ul>
		</nav>
	</div>
	<div class="col-sm-10 row">
		{% for ride in rides_list %}
			<div class="col-sm-6">
				<div class="card">
					<div class="card-header">Driver: {{ride.driver}}</div>
					<ul class="list-group list-group-flush">
					    <li class="list-group-item">Departure: {{ride.departure_location}}</li>
					    <li class="list-group-item">Destination: {{ride.destination_location}}</li>
					    <li class="list-group-item">Date: {{ride.date}}</li>
					</ul>
					<div class="card-body">
						<a href=" {% url 'ride' ride.id%}" class="btn btn-primary">Details</a>
					</div>
				</div>
			</div>
		{% endfor %}
	</div>
</div>
</body>
</html>
